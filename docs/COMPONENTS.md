# 컴포넌트 아키텍처 가이드

목적: 프론트엔드 컴포넌트 구조와 책임을 기록하여 유지보수성과 재사용성을 높입니다. 이 문서는 실제 구현과 계획만 요약하며 코드 예제는 포함하지 않습니다.

## 현재 구성 (주요 역할)
- 페이지: `src/pages/*` (Home, Backtest, Community, 로그인·회원가입, 게시글 상세)
- 폼 입력: `backtest-form/*`로 날짜, 전략, 포트폴리오, 수수료/리밸런싱 등을 분리
- 결과 표시: `components/UnifiedBacktestResults.tsx`가 헤더·요약 지표·차트·부가정보 섹션을 통합
- 차트: `OHLCChart.tsx`, 자산 곡선(Equity), 거래/지표 오버레이 등 구성
- 뉴스/부가정보: 변동성 이벤트 기반 뉴스(네이버 뉴스 API)와 환율 표시 통합
- 공통: 유틸(`src/utils/*`), 상수(`src/constants/*`), 서비스(`src/services/*`)

## 설계 원칙
- 단일 책임: 폼·차트·요약·뉴스·유틸을 독립 컴포넌트로 구성
- 훅 기반 로직: 데이터·검증·UI 상태는 커스텀 훅(`src/hooks/*`)으로 분리해 재사용
- 타입 일관성: TS 명시적 타입과 컴포넌트 Props 규칙 유지

## 구현된 기능
- 단일 종목 백테스트 요청 및 차트/요약 지표 표시
- 포트폴리오 백테스트 결과 표시(자산 곡선, 기본 지표)
- 전략 선택 및 파라미터 입력(전략 구성에 따라 동적 필드)
- 변동성 이벤트 기반 뉴스 보기(네이버 뉴스 API)
- 환율 데이터 표시(USD/KRW)

## 테스트 현황(요약)
- 폼/서비스/훅 단위 테스트 및 차트 스모크 테스트(Vitest). 설정은 `vitest.config.ts`, 초기화는 `src/test/setup.ts`에서 관리

## 향후 계획
- 결과 화면 확장: 월/연도별 성과, 드로우다운 상세, 기여도 분석
- 포트폴리오 시각화 강화: 상관·군집 히트맵, 리밸런싱 효과 비교
- 접근성/성능: 차트 렌더 최적화, ARIA 개선, 메모이제이션 강화
