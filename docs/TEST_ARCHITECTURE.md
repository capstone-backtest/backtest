# 백엔드/프론트 테스트 아키텍처 가이드

이 문서는 테스트 구조와 실제 동작을 요약합니다. 코드 예제는 제외합니다.

## 구조 개요 (backend)
- 계층: Unit, Integration, E2E. 디렉터리 구성은 `backend/tests/{unit,integration,e2e}`와 공용 `fixtures/`.
- 러너/설정: pytest, `backend/pytest.ini`에 마커(`unit`,`integration`,`e2e`,`asyncio`,`slow`)와 일부 커버리지 설정 포함.
- 오프라인 지향: 외부 API(yfinance)·DB 의존성은 픽스처/모킹으로 격리. 캐시 우선 정책과 보강 페치 흐름을 검증.

## 구조 개요 (frontend)
- 러너/환경: Vitest + jsdom. 설정은 `frontend/vitest.config.ts`, 초기화는 `src/test/setup.ts`.
- 범위: 폼/훅/유틸 단위 테스트와 차트 스모크 테스트 중심.

## 수집/리포트
- Jenkins: Docker 빌드 내에서 백엔드/프론트 테스트를 실행하고, JUnit XML을 수집해 대시보드에 게시합니다.
- 목표: 핵심 경로 안정성 검증과 회귀 방지. 정량 지표는 파이프라인에서 관리합니다.

## 원칙과 기준
- 빠른 피드백: 단위 테스트는 짧은 실행 시간 유지, 통합/E2E는 핵심 시나리오 위주.
- 격리: 외부 네트워크/DB 없이 재현 가능하도록 픽스처 우선.
- 가독성: 테스트 이름·마커로 의도와 범위를 명확히 표현.

## 현재 상태(요약)
- 백엔드: 백테스트/전략/데이터 수집 서비스에 대한 단위·통합 테스트, API 흐름 E2E 포함.
- 프론트엔드: 폼/서비스/훅 테스트 구축, 차트는 환경 제약을 고려한 스모크 범위 유지.

## 향후 계획
- 계약 테스트: 백엔드 응답 스키마와 프런트 파싱 로직의 상호 계약 검증 도입.
- 커버리지 기준: 핵심 모듈 목표치 설정과 파이프라인 게이트 연동.
- 성능/안정성: 병렬화와 캐시 최적화, 불안정 테스트의 원인 제거.
