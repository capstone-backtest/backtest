import{j as a}from"./index-36945acf.js";import{r as s}from"./react-vendor-f08b7d54.js";import{C as g}from"./CustomTooltip-94fd521d.js";import{b,e as v,R as y,c as D,C as L,X as T,Y as h,T as E,d as k,B as j}from"./chart-vendor-e6ab7ccf.js";import"./icon-vendor-17702577.js";const H=s.memo(({data:i,indicators:m,trades:n})=>{const l=s.useMemo(()=>i||[],[i]),t=s.useMemo(()=>m||[],[m]),p=s.useMemo(()=>n||[],[n]),N=s.useMemo(()=>l.map(e=>{const r={...e,open:Number(e.open)||0,high:Number(e.high)||0,low:Number(e.low)||0,close:Number(e.close)||0,volume:Number(e.volume)||0};return t.forEach(c=>{var d;const u=(d=c.data)==null?void 0:d.find(x=>x.date===e.date);u&&(r[c.name]=Number(u.value)||0)}),r}),[l,t]),o=s.useMemo(()=>({margin:{top:20,right:30,left:20,bottom:5},strokeWidth:{main:2,indicator:1.5},opacity:{volume:.3,grid:.3}}),[]),f=s.useCallback(()=>t.map((e,r)=>a.jsxDEV(b,{yAxisId:"price",type:"monotone",dataKey:e.name,stroke:e.color,strokeWidth:o.strokeWidth.indicator,dot:!1,name:e.name,strokeDasharray:r%2===1?"5 5":void 0},e.name,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:88,columnNumber:7},globalThis)),[t,o.strokeWidth.indicator]),C=s.useCallback(()=>p.map((e,r)=>a.jsxDEV(v,{yAxisId:"price",x:e.date,stroke:e.type==="entry"?"#198754":"#dc3545",strokeWidth:2,strokeDasharray:"2 2"},`${e.date}-${r}`,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:105,columnNumber:7},globalThis)),[p]);return a.jsxDEV("div",{children:a.jsxDEV(y,{width:"100%",height:400,children:a.jsxDEV(D,{data:N,margin:o.margin,children:[a.jsxDEV(L,{strokeDasharray:"3 3",opacity:o.opacity.grid},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:120,columnNumber:11},globalThis),a.jsxDEV(T,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd"},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:121,columnNumber:11},globalThis),a.jsxDEV(h,{yAxisId:"price",orientation:"right"},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:122,columnNumber:11},globalThis),a.jsxDEV(h,{yAxisId:"volume",orientation:"left"},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:123,columnNumber:11},globalThis),a.jsxDEV(E,{content:a.jsxDEV(g,{},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:124,columnNumber:37},globalThis)},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:124,columnNumber:11},globalThis),a.jsxDEV(k,{},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:125,columnNumber:11},globalThis),a.jsxDEV(j,{yAxisId:"volume",dataKey:"volume",fill:"#6c757d",opacity:o.opacity.volume,name:"거래량"},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:126,columnNumber:11},globalThis),a.jsxDEV(b,{yAxisId:"price",type:"monotone",dataKey:"close",stroke:"#0d6efd",strokeWidth:o.strokeWidth.main,dot:!1,name:"종가"},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:133,columnNumber:11},globalThis),f(),C()]},void 0,!0,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:119,columnNumber:9},globalThis)},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:118,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/OHLCChart.tsx",lineNumber:117,columnNumber:5},globalThis)});H.displayName="OHLCChart";export{H as default};
